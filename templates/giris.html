<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Johari Testi - Giriş</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@400;600;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --bg1: #fdfbfb;
            --bg2: #ebedee;
            --ink: #2c3e50;
            --muted: #555;
            --accent: #8e24aa;
            --accent2: #6a1b9a;
            --quote-bg: #f3e5f5;
            --quote-border: #8e24aa;
            --card: #ffffff;
            --shadow: 0 18px 45px rgba(30, 10, 60, .12);
        }

        * {
            box-sizing: border-box
        }

        body {
            font-family: 'Inter', sans-serif;
            background:
                radial-gradient(800px 400px at 10% 10%, rgba(142, 36, 170, .06), transparent 60%),
                linear-gradient(135deg, var(--bg1) 0%, var(--bg2) 100%);
            margin: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px;
        }

        /* Container: gradient border + subtle glass */
        .container {
            width: min(960px, 95vw);
            position: relative;
            border-radius: 22px;
            padding: 1px;
            background: linear-gradient(120deg, rgba(142, 36, 170, .35), rgba(106, 27, 154, .25), rgba(142, 36, 170, .1));
            box-shadow: var(--shadow);
        }

        .inner {
            background: rgba(255, 255, 255, .92);
            backdrop-filter: saturate(120%) blur(4px);
            border-radius: 21px;
            overflow: hidden;
        }

        @media (prefers-reduced-motion:no-preference) {
            .container {
                animation: pop .5s ease
            }

            @keyframes pop {
                from {
                    transform: translateY(14px);
                    opacity: .0
                }

                to {
                    transform: translateY(0);
                    opacity: 1
                }
            }
        }

        /* HERO */
        .hero {
            position: relative;
            padding: 36px 56px;
            display: grid;
            gap: 10px;
            background:
                radial-gradient(900px 360px at 12% 0%, rgba(142, 36, 170, .08), transparent 60%),
                linear-gradient(120deg, #fff, #faf7ff);
            border-bottom: 1px solid #eee;
        }

        .hero h1 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(28px, 4vw, 44px);
            margin: 0;
            line-height: 1.08;
            letter-spacing: .2px;
            background: linear-gradient(90deg, #4a148c, #6a1b9a, #4a148c);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            background-size: 200% 100%;
        }

        @media (prefers-reduced-motion:no-preference) {
            .hero h1 {
                animation: shine 6s ease-in-out infinite
            }

            @keyframes shine {

                0%,
                100% {
                    background-position: 0% 50%
                }

                50% {
                    background-position: 100% 50%
                }
            }
        }

        .hero h2 {
            font-size: clamp(18px, 2.6vw, 22px);
            color: var(--ink);
            margin: .3em 0 0;
            font-weight: 700;
        }

        .quote {
            margin: 14px 0 0;
            background: var(--quote-bg);
            border-left: 6px solid var(--quote-border);
            padding: 12px 16px;
            font-style: italic;
            color: #4a148c;
            border-radius: 10px;
            box-shadow: 0 4px 14px rgba(142, 36, 170, .12) inset;
        }

        /* CONTENT */
        .content {
            padding: 30px 56px 44px;
        }

        .content p,
        .content li {
            color: var(--muted);
            font-size: 17px;
            line-height: 1.7;
        }

        .content h3 {
            color: var(--ink);
            font-size: 22px;
            margin: 22px 0 10px;
        }

        ul {
            padding-left: 20px;
            margin: 8px 0 0;
        }

        /* Steps: tiny hover lift */
        .steps {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 14px;
            margin-top: 10px
        }

        .step {
            background: #fafafa;
            border: 1px solid #eee;
            border-radius: 14px;
            padding: 12px 14px;
            transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
        }

        .step b {
            color: #4a148c
        }

        .step:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 22px rgba(0, 0, 0, .06);
            border-color: #e7dbf0
        }

        .privacy {
            background: #fff;
            border: 1px dashed #c7c7c7;
            border-radius: 12px;
            padding: 14px 16px;
            margin-top: 16px;
            font-size: 15px;
            color: #666
        }

        .johari-gorsel {
            max-width: 100%;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, .10);
            margin: 22px 0 8px;
        }

        /* CTA: centered + micro-interactions */
        .cta {
            display: flex;
            gap: 12px;
            align-items: center;
            justify-content: center;
            /* ORTALANDI */
            margin-top: 26px;
            flex-wrap: wrap;
            position: relative;
        }

        .start-button {
            position: relative;
            overflow: hidden;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(90deg, var(--accent), var(--accent2));
            color: #fff;
            padding: 14px 22px;
            font-size: 18px;
            font-weight: 700;
            border-radius: 14px;
            text-decoration: none;
            box-shadow: 0 8px 28px rgba(142, 36, 170, .28);
            transition: transform .08s ease, box-shadow .2s ease, filter .2s ease;
        }

        .start-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 14px 32px rgba(142, 36, 170, .35);
            filter: saturate(1.05)
        }

        /* Pulse halo */
        .cta::after {
            content: "";
            position: absolute;
            width: 160px;
            height: 160px;
            border-radius: 999px;
            background: radial-gradient(circle, rgba(142, 36, 170, .18), transparent 60%);
            pointer-events: none;
            opacity: .0;
            transform: translateY(8px);
        }

        @media (prefers-reduced-motion:no-preference) {
            .cta:hover::after {
                animation: halo 1.4s ease both
            }

            @keyframes halo {
                from {
                    opacity: 0;
                    transform: scale(.8)
                }

                to {
                    opacity: 1;
                    transform: scale(1)
                }
            }
        }

        /* Click ripple (pure CSS) */
        .start-button:active::after {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: inherit;
            background: radial-gradient(circle at center, rgba(255, 255, 255, .35) 0%, rgba(255, 255, 255, 0) 60%);
            opacity: .7;
            transition: opacity .35s ease;
        }

        .loading {
            display: none;
            font-size: 14px;
            color: #7a7a7a
        }

        /* === Excel kutusu (eklenen kısım) === */
        .excel-box {
            margin-top: 20px;
            border: 1px solid #ece7f5;
            background: #faf7ff;
            border-radius: 14px;
            padding: 16px 18px;
        }

        .excel-box h3 {
            margin: 0 0 8px;
            color: #4a148c;
            font-size: 18px;
        }

        .excel-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
            justify-content: center;
        }

        .start-button.alt {
            background: linear-gradient(90deg, #6d2da6, #5b1a8f);
        }

        .ghost-button {
            display: inline-block;
            padding: 12px 18px;
            border-radius: 12px;
            border: 1px solid #d8c8ef;
            color: #6a1b9a;
            background: #fff;
            font-weight: 600;
            text-decoration: none;
            transition: transform .2s ease, box-shadow .2s ease;
        }

        .ghost-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, .08);
        }

        @media (max-width:800px) {
            .steps {
                grid-template-columns: 1fr
            }
        }

        @media (max-width:600px) {
            .hero {
                padding: 28px 20px
            }

            .content {
                padding: 24px 20px 32px
            }

            .content p,
            .content li {
                font-size: 15px
            }

            .start-button {
                width: 100%;
                text-align: center
            }
        }
    </style>
</head>

<body>
    <main class="container">
        <div class="counter-badge">
            Ziyaretçi: <strong>{{ unique_visitors }}</strong>
            <span class="sep">•</span>
            Tıklama: <strong>{{ total_hits }}</strong>
        </div>
        <style>
            .counter-badge {
                display: inline-flex;
                gap: 10px;
                align-items: center;
                background: #111827;
                color: #fff;
                padding: 10px 14px;
                border-radius: 14px;
                font-weight: 600;
                font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
                box-shadow: 0 6px 18px rgba(0, 0, 0, .15)
            }

            .counter-badge .sep {
                opacity: .6
            }
        </style>

        <div class="inner">
            <!-- HERO -->
            <section class="hero">
                <h1>JOHARI PENCERESİ TESTİ</h1>
                <p class="quote">“Dışarıya bakan rüya görür; içeriye bakan uyanır.” — <strong>C. G. Jung</strong></p>
            </section>

            <!-- CONTENT -->
            <section class="content">
                <p><strong>Johari Penceresi</strong>, öz-farkındalık ve iletişim becerilerini ölçen klasik bir modeldir.
                    Bu test, senin kendini nasıl gördüğün ile çevrenin seni nasıl algıladığını yan yana koyar;
                    <em>açık</em>, <em>kör</em>, <em>gizli</em> ve <em>bilinmeyen</em> alanlarının dengesini net bir
                    şekilde gösterir.
                </p>

                <h3>Bu test sana ne kazandırır?</h3>
                <ul>
                    <li>Güçlü yönlerini ve geliştirme alanlarını <strong>somut verilerle</strong> görmeni sağlar.</li>
                    <li>“Ben” algın ile çevrenin algısı arasındaki farkları <strong>harita gibi</strong> ortaya çıkarır.
                    </li>
                    <li>Takım içi iletişimde <strong>şeffaflık ve güven</strong> oluşturman için net ipuçları sunar.
                    </li>
                </ul>

                <h3>Nasıl ilerler?</h3>
                <div class="steps">
                    <div class="step"><b>1. Adım:</b> Kısa bir formu doldurursun (10-15 dk).</div>
                    <div class="step"><b>2. Adım:</b> Sistem sonuçlarını 48×48’lik Johari penceresinde görselleştirir.
                    </div>
                    <div class="step"><b>3. Adım:</b> Sonuçlarınla uyumlu, <b>kişiselleştirilmiş</b> öneriler ve
                        istersen “Zafer Bey’in Hikâyesi” ilham bölümü.</div>
                </div>

                <div class="privacy">
                    <b>Gizlilik notu:</b> Sonuç dosyaları herkese açık değildir; yalnızca senin oturumunda görüntülenir.
                </div>

                <img src="{{ url_for('static', filename='webimiz/johari-penceresi.png') }}" alt="Johari Penceresi"
                    class="johari-gorsel" />

                <div class="cta">
                    <a id="startBtn" href="/index" class="start-button">TESTE BAŞLA</a>
                    <span id="loading" class="loading">Yükleniyor…</span>
                </div>

                <!-- Excel'den hesaplama kutusu (START'ın ALTINDA) -->
                <div class="excel-box">
                    <h3>Excel’den Toplu Hesaplama</h3>
                    <p>Elinizde cevaplar (A/B/C/D veya 1/2/3/4) olan bir Excel varsa, yükleyin; herkes için Açık, Kör,
                        Gizli ve Bilinmeyen alanlarını anında hesaplayalım. Yüklenen sonuçlar yalnızca bu oturumda
                        görünür.</p>
                    <div class="excel-actions">
                        <a href="{{ url_for('excel_yukle') }}" class="start-button alt">Excel’den Hesapla</a>
                        <a href="{{ url_for('excel_sablon') }}" class="ghost-button">Şablonu İndir</a>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <script>
        // Tek tık + yükleniyor bilgisi
        const btn = document.getElementById('startBtn');
        const ld = document.getElementById('loading');
        btn.addEventListener('click', (e) => {
            if (btn.dataset.locked === '1') { e.preventDefault(); return; }
            btn.dataset.locked = '1';
            btn.style.pointerEvents = 'none';
            btn.style.opacity = '.9';
            ld.style.display = 'inline';
            setTimeout(() => { ld.textContent = 'Hazırlanıyor…'; }, 1000);
        });
    </script>
</body>

</html>